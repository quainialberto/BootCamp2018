\documentclass[11.5pt, letterpaper, bibtotoc,
    tablecaptionabove, figurecaptionabove]{article}


\setlength{\headheight}{10pt}
\setlength{\headsep}{15pt}
\setlength{\topmargin}{-25pt}
\setlength{\topskip}{0in}
\setlength{\textheight}{8.7in}
\setlength{\footskip}{0.3in}
\setlength{\oddsidemargin}{0.0in}
\setlength{\evensidemargin}{0.0in}
\setlength{\textwidth}{6.5in}

\usepackage{setspace}
\setstretch{1.2}
\setlength{\parskip}{5pt}%{6pt}
\setlength{\parindent}{0pt}

\usepackage{subfigure}
\usepackage{subfiles}
\usepackage{graphicx}
\usepackage{epsfig}
\graphicspath{{images/}{../images/}}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{enumerate}
\newtheorem{proposition}{Proposition}
\newtheorem{remark}{Remark}
\newtheorem{lemma}{Lemma}
\newtheorem{notation}{Notation}
\newtheorem{corollary}{Corollary}
\newtheorem{remarks}{Remarks}
\newtheorem{examples}{Examples}
\newtheorem{assumption}{Assumption}
\newtheorem{definition}{Definition}
\newcommand{\norm}[1]{\left\lVert#1\right\rVert}
\DeclareMathOperator{\dom}{dom}
\DeclareMathOperator{\ri}{ri}
\DeclareMathOperator{\interior}{int}
\DeclareMathOperator{\essential}{ess}
\DeclareMathOperator{\range}{range}
\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\rank}{rank}

\makeatletter
\newcommand{\leqnomode}{\tagsleft@true\let\veqno\@@leqno}
\newcommand{\reqnomode}{\tagsleft@false\let\veqno\@@eqno}
\newcommand{\vertiii}[1]{{\left\vert\kern-0.25ex\left\vert\kern-0.25ex\left\vert#1
\right\vert\kern-0.25ex\right\vert\kern-0.25ex\right\vert}}
\makeatother

\usepackage{bm}

\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    citecolor=red,
}
\usepackage[margin=1in]{geometry}

\begin{document}

\textbf{Alberto Quaini}

\section*{Measure theory exercises}

\subsection*{Section 1}

\textbf{Exercise 1.3:}
\begin{enumerate}
\item
Let $a\in\mathbb R$ and define $A_1:=(-\infty, a)$. 
Clearly $A_1\in\mathcal G_1$, however its complement, $A_1^c = [a, +\infty)$, is not in $\mathcal G_1$.
Therefore $\mathcal G_1$ is not an algebra.

\item
$\mathcal G_2 := \{A: A \text{ is a finite union of intervals of the form } (a, b], (-\infty, b], (a, \infty)\}$ 
is an algebra, but not a $\sigma-$algebra.
Clearly, $\mathcal G_2$ contains the empty set.
Also, $\mathcal G_2$ is closed under complements because it contains the complements of the three basic intervals 
$(a, b]$, $(-\infty, b]$ and $(a, \infty)$ and, by the properties of complements, 
it contains the complements of any finite union of the basic intervals.
Finally, $\mathcal G_2$ is closed under finite union as the finite union of finite unions 
of the three basic intervals is still a finite union of these basic intervals.
However, $\mathcal G_2$ is not a $\sigma-$algebra since it clearly does not contain an infinite union 
of the three basic interval.

\item
$\mathcal G_3 := \{A: A \text{ is a countable union of intervals of the form } (a, b], (-\infty, b], (a, \infty)\}$ is a $\sigma-$algebra, hence also an algebra.
Everything discussed for $\mathcal G_2$ holds except for the fact that infinite unions of the basic intervals belong to $\mathcal G_3$. 

\end{enumerate}

\textbf{Exercise 1.7:}
By definition, any $\sigma-$algebra contains $\emptyset$.
Also, it contains $X$, since it must be closed under complements.
Therefore, $\{\emptyset, X\}$ is contained in any $\sigma-$algebra and is thus the smallest $\sigma-$algebra on $X$.

On the other hand, by definition, any $\sigma-$algebra on $X$ is a set of subsets of $X$, 
therefore it is contained in the power set of $X$, which is the set of all subsets of $X$.

\textbf{Exercise 1.10:}
Let $\mathcal N = \underset{\alpha}{\cap}\mathcal S_\alpha$.
$\emptyset\in\mathcal N$ because $\emptyset\in\mathcal S_\alpha$, for every $\alpha$.
Also, if $A\in\mathcal N$, we have that $A$ is in every $\mathcal S_\alpha$,
and since these are closed under complements, $A^c\in\mathcal N$.
Finally, if $A_1, A_2,\ldots\in\mathcal N$, they belong to each $\mathcal S_\alpha$ and so does 
$\cup_{n=1}^\infty A_n$, and we have that it also belongs to $\mathcal N$.
In conclusion, $\mathcal N$ is a $\sigma-$algebra.

\textbf{Exercise 1.17:}
\begin{enumerate}
\item
Take $A,B\in\mathcal S$, with $A\subset B$.
Notice that $B$ can be written as the union of two disjoint sets in the following way: 
$B = (A\cap B) \cup (A^c\cap B)$.
Then, $\mu(B)=\mu(A\cap B) + \mu(A^c\cap B) = \mu(A) + \mu(A^c\cap B)$.
Since a measure is nonnegative, $\mu(B)\geq\mu(A)$.
Therefore $\mu$ is monotone.

\item
Let $\{A_n\}_{n\in\mathbb N}\subset\mathcal S$ and define the following sets: $A := \cup_{n\in\mathbb N} A_n$,
$B_1 := A_1$, $B_2 := A_2-A_1$, $B_3 := A_3-(A_1\cup A_2)$, and so on.
Then, $A = \cup_{n\in\mathbb N} B_n$.
By monotonicity, for each $n\in\mathbb N$, $\mu(B_n)\leq\mu(A_n)$ since $B_n\subset A_n$.
Therefore we obtain $\mu(A)=\sum_{n\in\mathbb N}\mu(B_n)\leq \sum_{n\in\mathbb N}\mu(A_n)$.
\end{enumerate}

\textbf{Exercise 1.18:}
$\lambda$ is a measure because (i) $\lambda(\emptyset) = \mu(\emptyset\cap B) = \mu(\emptyset) = 0$
and (ii) for any $\{A_n\}_{n\in\mathbb N}\subset\mathcal S$ with $A_n$'s paiwise disjoint we have
$\lambda(\cup_{n\in\mathbb N} A_n) = \mu\left((\cup_{n\in\mathbb N} A_n) \cap B\right) =
\mu\left(\cup_{n\in\mathbb N} (A_n \cap B)\right) = \sum_{n\in\mathbb N}\mu(A_n\cap B) = \sum_{n\in\mathbb N}\lambda(A_n)$.

\textbf{Exercise 1.20:}
Since $\mu(A_1)<\infty$, by monotonicity $\mu(A_i)<\infty$ for each $n\in\mathbb N$.
Consider the increasing sequence $\{A_1-A_n\}_{n\in\mathbb N}$,
define $A=\cap_{n\in\mathbb N} A_n$
and note that $\lim_{n\to\infty}(A_1-A_n) = A_1-\lim_{n\to\infty}A_n = A_1-A$.
Since $\mu$ is continuous from below,
\begin{align*}
\mu (\cap_{n=1}^\infty A_n ) & = \mu[A_1 - \cup_{n=1}^\infty (A_1 - A_n) ] = 
    \mu(A_1) - \mu(\cup_{n=1}^\infty (A_1 - A_n))\\
& = \mu(A_1) - \lim_{n \to \infty} \mu(A_1 - A_n) = 
    \mu(A_1) - \lim_{n \to \infty} [\mu(A_1) - \mu(A_n)]  = \lim_{n \to \infty} \mu(A_n)
\end{align*}
%\begin{equation*}
%\mu(A_1)-\mu(A_n) = \mu(A_1-A_n) \underset{n\to\infty}{\longrightarrow}
%\mu(A_1-A) = \mu(A_1)-\mu(A).
%\end{equation*}
Therefore $\mu(A)=\lim_{n\to\infty}\mu(A_n)$.

\subsection*{Section 2}

\textbf{Exercise 2.10:}
Clearly, $B = [(B\cap E)\cup(B\cap E^c)] =: F$.
In particular, $B \subset F$ and by monotonicity and countable subadditivity we have 
$\mu^*(B)\le\mu^*(F)\le\mu^*(B\cap E) + \mu^*(B\cap E^c)$.
Therefore requiring $(^*)$ is the same as requiring $\mu^*(B)=\mu^*(B\cap E) + \mu^*(B\cap E^c)$.

\subsection*{Exercise 2.14:}
In order to show that $\sigma(\mathcal B)\subset\mathcal M$ we first prove that
$\sigma(\mathcal A) = \sigma(\mathcal O) = \sigma(\mathcal B)$ by showing that $\sigma(\mathcal A)$
can generate open intervals and that $\sigma(\mathcal O)$ can generate the three basic intervals of
$\sigma(\mathcal A)$,
then we use Carate\'odory Extension Theorem shows that $\sigma(\mathcal B)\subset\mathcal M$.

First, notice that given two reals $a$ and $b$, $(a,b)=\bigcup_{n\in\mathbb N}(a, b-1/n]$.
Thus $\sigma(\mathcal O) \subset \sigma(\mathcal A)$.
On the other hand, $(a, b] = \bigcap_{n\in\mathbb N}(a, b+1/n)$,
$(a, \infty) = \bigcup_{n\in\mathbb N}(a, n)$ and 
$(-\infty, b] = \bigcup_{n\in\mathbb N}(-n, b]$ (we now can use intervals of the type $(-a, b]$ since we showed that they can be generated by $\sigma(\mathcal O)$).

\section*{Section 3}

\subsection*{Exercise 3.1:}
Let $A:=\left\{ a_n \right\}_{n\in\mathbb N}\subset\mathbb R$.
Also, fix $\epsilon>0$ and define $A_n:=(a_n-2^{-n}\epsilon, a_n+2^{-n}\epsilon)$ for every $n\in\mathbb N$.
Notice that $A\subset\bigcup_{n\in\mathbb N}A_n$ and 
$\mu(\bigcup_{n\in\mathbb N} A_n)\leq \sum_{n\in\mathbb N}2^{1-n}=2\epsilon$.
Since this holds for any $\epsilon>0$, by the definition of Lebesgue measure
$\mu(A)=0$.

\subsection*{Exercise 3.4:}
Since $\mathcal M$ is a $\sigma-$algebra, if $\{x\in X: f(x)<a\}$ is measurable,
so are $\{x\in X: f(x)\leq a\}=\bigcap_{n\in\mathbb N}\{x\in X: f(x)<a+1/n\}$
and their respective complements $\{x\in X: f(x)\geq a\}$ and $\{x\in X: f(x)> a\}$.

\subsection*{Exercise 3.7:}
Since $+$ and $\cdot$ are continuous binary functions and
absolute values is a continuous unary function, they are special cases of 4.
As for $\max\{f, g\}$ and $\min\{f, g\}$, these can be obtained via 2.
by defining $\{f_n\}_{n\in\mathbb N}$ so that $f_n = f$ for $n$ even
and $f_n = g$ for $n$ odd.

\subsection*{Exercise 3.14:}
Fix an $\epsilon>0$.
Since $f$ is bounded, there is an $M\in\mathbb R$ such that $|f|<M$ everywhere.
so $X\subset E_i^M$ for some $i$.
Note that there is an $N\geq M$ such that $\frac{1}{2^N}<\epsilon$.
Then for any $n\geq N$, $||f(x)-s_n(x)||<\epsilon$, so we have uniform convergence.

\section*{Section 4}

\subsection*{Exercise 4.13:}
Since $0\leq||f||<M$, we can apply Proposition $4.5$ to obtain
$0\le\int_E||f||d\mu\le M\mu(E)<\infty$.
Therefore $f\in\mathcal L^1(\mu, E)$.

\subsection*{Exercise 4.14:}
Proof by contrapositive.
Suppose there exists a measurable set $E'\subset E$ 
with positive $\mu-$measure such that $f(E')=\{\infty\}$
(we consider just $\infty$ without loss of generality).
Then $\infty=\int_{E'}fd\mu\leq\int_Efd\mu\leq\int_E||f||d\mu$
(the proof of the first inequality can be found in the proof of Exercise 4.16).
Therefore $f$ is not in $\mathcal L^1(\mu, E)$.

\subsection*{Exercise 4.15:}
Define $B(f):=\{s: 0\leq s\leq f, s \text{ measurable and simple}\}$.
Since $f\leq g$, $f^+\leq g^+$ and $f^-\geq g^-$.
Then $B(f^+)\subset B(g^+)$, which implies that $\int_Ef^+d\mu\leq\int_Eg^+d\mu$,
and $B(g^-)\subset B(f^-)$, which implies that $\int_Ef^-d\mu\geq\int_Eg^-d\mu$.
Therefore 
\begin{equation*}
\int_Efd\mu=\int_Ef^+d\mu-\int_Ef^-d\mu\leq\int_Eg^+d\mu-\int_Eg^-d\mu=\int_Egd\mu.
\end{equation*}

\subsection*{Exercise 4.16:}\label{ex416}
Fix an arbitrary measurable simple function $s(x):=\sum_{i=1}^Nc_i\chi_{E_i}$ 
(definition from the lecture notes).
Since $A\subset E$, $\mu(A\cap E_i)\leq\mu(E\cap E_i)$ for each $i$.
Then $\int_Asd\mu:=\sum_{i=1}^Nc_i\mu(A\cap E_i)\leq\sum_{i=1}^Nc_i\mu(E\cap E_i) =\int_Esd\mu$.
Since the choice of $s$ was arbitrary, 
\begin{equation*}
    \int_A||f||d\mu=\sup\left\{\int_Asd\mu: 0\leq s\leq||f||, 
    s \text{ simple}, s \text{ measurable}\right\}
\end{equation*}
is less than or equal to
\begin{equation*}
    \int_E||f||d\mu=\sup\left\{\int_Esd\mu: 0\leq s\leq||f||,
    s \text{ simple}, s \text{ measurable}\right\}.
\end{equation*}

\subsection*{Exercise 4.21:}
Define $\lambda_1(A):=\int_Af^+d\mu$ and $\lambda_2(A):=\int_Af^-d\mu$,
then $\int_Afd\mu=\lambda_1(A)-\lambda_2(A)$.
Since $A=(A-B)\cup B$ and $\lambda_i$ is a measure for $i=1,2$ (Theorem 4.6), 
$\lambda_i(A)=\lambda_i(A-B)+\lambda_i(B)$ for $i=1,2$.
However, by Proposition 4.6 we have $\lambda_i(A-B)=0$ for $i=1,2$.
Therefore, $\lambda_i(A)=\lambda_i(B)$ for $i=1,2$.
This implies that $\int_Afd\mu=\lambda_1(B)-\lambda_2(B)=\int_Bfd\mu$,
which implies the result of the corollary.

\end{document}
